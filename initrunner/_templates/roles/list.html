{% extends "base.html" %}
{% from "_macros.html" import feature_badges %}

{% block title %}Roles â€” InitRunner{% endblock %}

{% block content %}
<div class="flex items-center justify-between mb-6">
    <h1 class="text-2xl font-bold">Roles</h1>
    <div class="flex items-center gap-2">
        <input type="search" name="q" placeholder="Filter roles..."
               class="input input-bordered input-sm w-64"
               hx-get="/roles/table"
               hx-trigger="keyup changed delay:300ms"
               hx-target="#roles-table-body"
               hx-include="this">
        <a href="/roles/new" class="btn btn-primary btn-sm">New Role</a>
    </div>
</div>

<div class="overflow-x-auto">
    <table class="table table-zebra w-full">
        <thead>
            <tr>
                <th>Name</th>
                <th>Model</th>
                <th>Features</th>
                <th>Status</th>
                <th></th>
            </tr>
        </thead>
        <tbody id="roles-table-body">
            {% include "roles/_table.html" %}
        </tbody>
    </table>
</div>

{% if not roles %}
<div class="flex flex-col items-center justify-center py-12 text-base-content/50">
    <p class="text-lg">No roles found</p>
    <p class="text-sm mt-1">Create a role YAML file or specify a different directory with --role-dir</p>
</div>
{% endif %}
{% endblock %}
